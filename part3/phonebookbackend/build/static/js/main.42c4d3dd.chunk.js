(this.webpackJsonppuhelinluettelo=this.webpackJsonppuhelinluettelo||[]).push([[0],{14:function(e,t,n){e.exports=n(37)},36:function(e,t,n){},37:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),u=n(13),c=n.n(u),l=n(2),r=function(e){var t=e.name,n=e.number;return o.a.createElement("div",null,t.name," ",n.number)},i=function(e){var t=e.persons,n=e.newSearch,a=e.onDelete,u=t.filter((function(e){return e.name.toLowerCase().includes(n.toLowerCase())}));return o.a.createElement("div",null,u.map((function(e){return o.a.createElement("span",{key:e.id},o.a.createElement(r,{name:e,number:e}),o.a.createElement("button",{type:"button",value:e.id,onClick:a},"delete"))})))},m=n(3),s=n.n(m),d="/api/persons",f=function(){return s.a.get(d)},p=function(e){return s.a.post(d,e)},b=function(e,t){return s.a.put("".concat(d,"/").concat(e),t)},v=function(e){window.confirm("Delete ".concat(e.name))&&s.a.delete("".concat(d,"/").concat(e.id))},E=function(e){var t=e.message;return null===t?null:o.a.createElement("div",{className:"info"},t)},h=function(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),n=t[0],u=t[1],c=Object(a.useState)(""),r=Object(l.a)(c,2),m=r[0],s=r[1],d=Object(a.useState)(""),h=Object(l.a)(d,2),w=h[0],g=h[1],O=Object(a.useState)(""),j=Object(l.a)(O,2),C=j[0],S=j[1],k=Object(a.useState)(null),y=Object(l.a)(k,2),D=y[0],L=y[1];Object(a.useEffect)((function(){f().then((function(e){u(e.data)}))}),[]);return o.a.createElement("div",null,o.a.createElement("h1",null,"Phonebook"),o.a.createElement(E,{message:D}),"filter shown with",o.a.createElement("input",{type:"text",onChange:function(e){S(e.target.value)}}),o.a.createElement("h2",null,"add a new"),o.a.createElement("form",{onSubmit:function(e){e.preventDefault();var t={name:m,number:w},a=n.filter((function(e){return e.name.toLowerCase()===m.toLowerCase()}));if(a.length>0){var o=a[0].id;window.confirm("".concat(m," is already added to phonebook, replace old number with a new one?"))&&(console.log(o),b(o,t).then((function(e){u(n.map((function(t){return t.id!==e.data.id?t:e.data}))),console.log(e.data),s(""),g("")})),L("Updated ".concat(m)),setTimeout((function(){L(null)}),2e3))}else p(t).then((function(e){u(n.concat(e.data)),s(""),g("")})),L("Added ".concat(m)),setTimeout((function(){L(null)}),2e3)}},o.a.createElement("div",null,"name: ",o.a.createElement("input",{value:m,onChange:function(e){s(e.target.value)}})),o.a.createElement("div",null,"number: ",o.a.createElement("input",{value:w,onChange:function(e){g(e.target.value)}})),o.a.createElement("div",null,o.a.createElement("button",{type:"submit"},"add"))),o.a.createElement("h2",null,"Numbers"),o.a.createElement("div",null,o.a.createElement(i,{persons:n,newSearch:C,onDelete:function(e){e.preventDefault();var t=parseInt(e.target.value),a=n.filter((function(e){return e.id===t}));console.log(a);var o=n.indexOf(a[0]);console.log(o),v(n[o]),u(n.filter((function(e){return e.id!==t}))),L("Removed ".concat(n[o].name)),setTimeout((function(){L(null)}),2e3)}})))};n(36);c.a.render(o.a.createElement(h,null),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.42c4d3dd.chunk.js.map