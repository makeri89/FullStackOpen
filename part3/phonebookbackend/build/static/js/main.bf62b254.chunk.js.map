{"version":3,"sources":["components/Name.jsx","components/Names.jsx","services/persons.jsx","components/Notification.jsx","components/Errormessage.jsx","App.js","index.js"],"names":["Name","name","number","Names","persons","newSearch","onDelete","filtered","filter","person","toLowerCase","includes","map","key","id","type","value","onClick","baseUrl","axios","get","newObject","post","put","window","confirm","delete","Notification","message","className","Errormessage","App","useState","setPersons","newName","setNewName","newNumber","setNewNumber","setNewSearch","infoMessage","setInfoMessage","errorMessage","setErrorMessage","useEffect","personService","then","response","data","onChange","e","target","onSubmit","preventDefault","nameObject","checkSame","i","length","console","log","setTimeout","concat","catch","error","itemToRemove","indexOfRemove","indexOf","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.bf62b254.chunk.js","sourcesContent":["import React from 'react'\n\nconst Name = ({ name, number }) => {\n    return (\n      <div>{name.name} {number.number}</div>\n    )\n  }\n\nexport default Name","import React from 'react'\nimport Name from './Name'\n\nconst Names = ({ persons, newSearch, onDelete }) => {\n  const filtered = persons.filter(person => person.name.toLowerCase()\n  .includes(newSearch.toLowerCase()))\n  \n  return (\n    <div>\n      {filtered.map(name => \n      <span key={name.id}>\n        <Name name={name} number={name} />\n        <button\n          type='button'\n          value={name.id}\n          onClick={onDelete}>\n          delete\n        </button>\n      </span>)}\n    </div>\n  )\n}\n\n\nexport default Names\n","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n    return axios.get(baseUrl)\n}\n\nconst create = newObject => {\n    return axios.post(baseUrl, newObject)\n}\n\nconst update = (id, newObject) => {\n    return axios.put(`${baseUrl}/${id}`, newObject)\n}\n\nconst remove = (person) => {\n    if (window.confirm(`Delete ${person.name}`)) {\n        axios.delete(`${baseUrl}/${person.id}`)\n    }\n}\n\nexport default {\n    getAll: getAll,\n    create: create,\n    update: update,\n    remove: remove\n}","import React from 'react'\n\nconst Notification = ({ message }) => {\n    if (message === null) {\n      return null\n    }\n\n    return (\n      <div className='info'>\n        {message}\n      </div>\n    )\n  }\n\nexport default Notification","import React from 'react'\n\nconst Errormessage = ({ message }) => {\n    if (message === null) {\n      return null\n    }\n\n    return (\n      <div className='error'>\n        {message}\n      </div>\n    )\n  }\n\nexport default Errormessage","import React, { useState, useEffect } from 'react'\nimport Names from './components/Names.jsx'\nimport personService from './services/persons'\nimport Notification from './components/Notification'\nimport Errormessage from './components/Errormessage.jsx'\n\nconst App = () => {\n  const [ persons, setPersons] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ newSearch, setNewSearch ] = useState('')\n  const [infoMessage, setInfoMessage] = useState(null)\n  const [ errorMessage, setErrorMessage ] = useState(null)\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(response => {\n        setPersons(response.data)\n      })\n  }, [])\n\n  const handleButtonClick = (e) => {\n    e.preventDefault()\n    const nameObject = {\n      name: newName,\n      number: newNumber\n    }\n\n    const checkSame = persons.filter(i => i.name.toLowerCase() === (newName.toLowerCase()))\n    \n    if (checkSame.length > 0) {\n      const id = checkSame[0].id\n      if (window.confirm(`${newName} is already added to phonebook, replace old number with a new one?`)) {\n        console.log(id)\n        personService\n          .update(id, nameObject)\n          .then(response => {\n            setPersons(\n              persons.map(person => \n                person.id !== response.data.id ? person : response.data)\n            )\n            console.log(response.data)\n            setNewName('')\n            setNewNumber('')\n        })\n\n        setInfoMessage(`Updated ${newName}`)\n        setTimeout(() => {\n          setInfoMessage(null)\n        }, 2000)\n      }\n    } else {\n      personService\n        .create(nameObject)\n        .then(response => {\n          setPersons(persons.concat(response.data))\n          setNewName('')\n          setNewNumber('')\n        })\n        .catch(error => {\n          setErrorMessage('The minimum length for a name is 3 chracters and 8 for a phone number')\n          setTimeout(() => {\n            setErrorMessage(null)\n          }, 3000)\n        })\n      if (errorMessage === null) {\n        setInfoMessage(\n          `Added ${newName}`\n        )\n        setTimeout(() => {\n          setInfoMessage(null)\n        }, 2000)\n      }\n      \n    }\n\n    \n  }\n\n  const handleDelete = (e) => {\n    e.preventDefault()\n    const id = e.target.value\n    const itemToRemove = persons.filter(person => person.id == id)\n    console.log(itemToRemove)\n    const indexOfRemove = persons.indexOf(itemToRemove[0])\n    console.log(indexOfRemove)\n    personService.remove(persons[indexOfRemove])\n    setPersons(persons.filter(person => person.id !== id))\n    setInfoMessage(`Removed ${persons[indexOfRemove].name}`)\n    setTimeout(() => {\n      setInfoMessage(null)\n    }, 2000)\n  }\n\n  const handleNameChange = (e) => {\n    setNewName(e.target.value)\n  }\n\n  const handleNumberChange = (e) => {\n    setNewNumber(e.target.value)\n  }\n\n  const handleSearchChange = (e) => {\n    setNewSearch(e.target.value)\n  }\n\n  return (\n    <div>\n      <h1>Phonebook</h1>\n      <Notification message={infoMessage} />\n      <Errormessage message={errorMessage} />\n      filter shown with<input type='text' onChange={handleSearchChange}></input>\n      <h2>add a new</h2>\n      <form onSubmit={handleButtonClick}>\n        <div>\n          name: <input value={newName} onChange={handleNameChange} />\n        </div>\n        <div>\n          number: <input value={newNumber} onChange={handleNumberChange}/>\n        </div>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n      <h2>Numbers</h2>\n      <div>\n        <Names persons={persons} newSearch={newSearch} onDelete={handleDelete} />\n      </div>\n    </div>\n  )\n\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css'\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}