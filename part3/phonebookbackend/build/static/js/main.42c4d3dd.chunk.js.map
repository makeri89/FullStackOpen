{"version":3,"sources":["components/Name.jsx","components/Names.jsx","services/persons.jsx","components/Notification.jsx","App.js","index.js"],"names":["Name","name","number","Names","persons","newSearch","onDelete","filtered","filter","person","toLowerCase","includes","map","key","id","type","value","onClick","baseUrl","axios","get","newObject","post","put","window","confirm","delete","Notification","message","className","App","useState","setPersons","newName","setNewName","newNumber","setNewNumber","setNewSearch","infoMessage","setInfoMessage","useEffect","personService","then","response","data","onChange","e","target","onSubmit","preventDefault","nameObject","checkSame","i","length","console","log","setTimeout","concat","parseInt","itemToRemove","indexOfRemove","indexOf","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.42c4d3dd.chunk.js","sourcesContent":["import React from 'react'\n\nconst Name = ({ name, number }) => {\n    return (\n      <div>{name.name} {number.number}</div>\n    )\n  }\n\nexport default Name","import React from 'react'\nimport Name from './Name'\n\nconst Names = ({ persons, newSearch, onDelete }) => {\n  const filtered = persons.filter(person => person.name.toLowerCase()\n  .includes(newSearch.toLowerCase()))\n  \n  return (\n    <div>\n      {filtered.map(name => \n      <span key={name.id}>\n        <Name name={name} number={name} />\n        <button\n          type='button'\n          value={name.id}\n          onClick={onDelete}>\n          delete\n        </button>\n      </span>)}\n    </div>\n  )\n}\n\n\nexport default Names\n","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n    return axios.get(baseUrl)\n}\n\nconst create = newObject => {\n    return axios.post(baseUrl, newObject)\n}\n\nconst update = (id, newObject) => {\n    return axios.put(`${baseUrl}/${id}`, newObject)\n}\n\nconst remove = (person) => {\n    if (window.confirm(`Delete ${person.name}`)) {\n        axios.delete(`${baseUrl}/${person.id}`)\n    }\n}\n\nexport default {\n    getAll: getAll,\n    create: create,\n    update: update,\n    remove: remove\n}","import React from 'react'\n\nconst Notification = ({ message }) => {\n    if (message === null) {\n      return null\n    }\n\n    return (\n      <div className='info'>\n        {message}\n      </div>\n    )\n  }\n\nexport default Notification","import React, { useState, useEffect } from 'react'\nimport Names from './components/Names.jsx'\nimport personService from './services/persons'\nimport Notification from './components/Notification'\n\nconst App = () => {\n  const [ persons, setPersons] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ newSearch, setNewSearch ] = useState('')\n  const [infoMessage, setInfoMessage] = useState(null)\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(response => {\n        setPersons(response.data)\n      })\n  }, [])\n\n  const handleButtonClick = (e) => {\n    e.preventDefault()\n    const nameObject = {\n      name: newName,\n      number: newNumber\n    }\n\n    const checkSame = persons.filter(i => i.name.toLowerCase() === (newName.toLowerCase()))\n    \n    if (checkSame.length > 0) {\n      const id = checkSame[0].id\n      if (window.confirm(`${newName} is already added to phonebook, replace old number with a new one?`)) {\n        console.log(id)\n        personService\n          .update(id, nameObject)\n          .then(response => {\n            setPersons(\n              persons.map(person => \n                person.id !== response.data.id ? person : response.data)\n            )\n            console.log(response.data)\n            setNewName('')\n            setNewNumber('')\n        })\n\n        setInfoMessage(`Updated ${newName}`)\n        setTimeout(() => {\n          setInfoMessage(null)\n        }, 2000)\n      }\n    } else {\n      personService\n        .create(nameObject)\n        .then(response => {\n          setPersons(persons.concat(response.data))\n          setNewName('')\n          setNewNumber('')\n      })\n      \n      setInfoMessage(\n        `Added ${newName}`\n      )\n      setTimeout(() => {\n        setInfoMessage(null)\n      }, 2000)\n    }\n\n    \n  }\n\n  const handleDelete = (e) => {\n    e.preventDefault()\n    const id = parseInt(e.target.value)\n    const itemToRemove = persons.filter(person => person.id === id)\n    console.log(itemToRemove)\n    const indexOfRemove = persons.indexOf(itemToRemove[0])\n    console.log(indexOfRemove)\n    personService.remove(persons[indexOfRemove])\n    setPersons(persons.filter(person => person.id !== id))\n    setInfoMessage(`Removed ${persons[indexOfRemove].name}`)\n    setTimeout(() => {\n      setInfoMessage(null)\n    }, 2000)\n  }\n\n  const handleNameChange = (e) => {\n    setNewName(e.target.value)\n  }\n\n  const handleNumberChange = (e) => {\n    setNewNumber(e.target.value)\n  }\n\n  const handleSearchChange = (e) => {\n    setNewSearch(e.target.value)\n  }\n\n  return (\n    <div>\n      <h1>Phonebook</h1>\n      <Notification message={infoMessage} />\n      filter shown with<input type='text' onChange={handleSearchChange}></input>\n      <h2>add a new</h2>\n      <form onSubmit={handleButtonClick}>\n        <div>\n          name: <input value={newName} onChange={handleNameChange} />\n        </div>\n        <div>\n          number: <input value={newNumber} onChange={handleNumberChange}/>\n        </div>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n      <h2>Numbers</h2>\n      <div>\n        <Names persons={persons} newSearch={newSearch} onDelete={handleDelete} />\n      </div>\n    </div>\n  )\n\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css'\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}